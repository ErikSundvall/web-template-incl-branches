// Copyright 2021 Better Ltd (www.better.care)
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

{
  "templateId": "Anamnesis",
  "version": "2.3",
  "defaultLanguage": "en",
  "languages": [
    "en"
  ],
  "tree": {
    "id": "anamnesis",
    "name": "Anamnesis",
    "localizedName": "Anamnesis",
    "rmType": "COMPOSITION",
    "nodeId": "openEHR-EHR-COMPOSITION.encounter.v1",
    "min": 1,
    "max": 1,
    "localizedNames": {
      "en": "Anamnesis"
    },
    "localizedDescriptions": {
      "en": "Interaction, contact or care event between a subject of care and healthcare provider(s)."
    },
    "aqlPath": "",
    "children": [
      {
        "id": "context",
        "rmType": "EVENT_CONTEXT",
        "nodeId": "",
        "min": 1,
        "max": 1,
        "aqlPath": "/context",
        "children": [
          {
            "id": "organisation",
            "name": "Organisation",
            "localizedName": "Organisation",
            "rmType": "CLUSTER",
            "nodeId": "openEHR-EHR-CLUSTER.organisation.v0",
            "min": 0,
            "max": -1,
            "localizedNames": {
              "en": "Organisation"
            },
            "localizedDescriptions": {
              "en": "Details of an organisation."
            },
            "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.organisation.v0]",
            "children": [
              {
                "id": "organisation_name",
                "name": "Organisation name",
                "localizedName": "Organisation name",
                "rmType": "DV_TEXT",
                "nodeId": "at0001",
                "min": 1,
                "max": 1,
                "localizedNames": {
                  "en": "Organisation name"
                },
                "localizedDescriptions": {
                  "en": "Name of the organisation."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.organisation.v0]/items[at0001]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "identifier",
                "name": "Identifier",
                "localizedName": "Identifier",
                "rmType": "DV_TEXT",
                "nodeId": "at0011",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Identifier"
                },
                "localizedDescriptions": {
                  "en": "Identifier of organisation."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.organisation.v0]/items[at0011]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "contact_details",
                "name": "Contact details",
                "localizedName": "Contact details",
                "rmType": "CLUSTER",
                "nodeId": "at0005",
                "min": 0,
                "max": -1,
                "localizedNames": {
                  "en": "Contact details"
                },
                "localizedDescriptions": {
                  "en": "Details about a contact person within organisation."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.organisation.v0]/items[at0005]",
                "children": [
                  {
                    "id": "professional_individual_demographics",
                    "name": "Professional Individual demographics",
                    "localizedName": "Professional Individual demographics",
                    "rmType": "CLUSTER",
                    "nodeId": "openEHR-EHR-CLUSTER.individual_professional.v0",
                    "min": 0,
                    "max": -1,
                    "localizedNames": {
                      "en": "Professional Individual demographics"
                    },
                    "localizedDescriptions": {
                      "en": "Professional demographics details including name(s) , addresse(s) and telecommunication contact details."
                    },
                    "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.organisation.v0]/items[at0005]/items[openEHR-EHR-CLUSTER.individual_professional.v0]",
                    "children": [
                      {
                        "id": "person_name",
                        "name": "Person name",
                        "localizedName": "Person name",
                        "rmType": "CLUSTER",
                        "nodeId": "openEHR-EHR-CLUSTER.person_name.v0",
                        "min": 0,
                        "max": 1,
                        "localizedNames": {
                          "en": "Person name"
                        },
                        "localizedDescriptions": {
                          "en": "Details of personal name of an individual, provider or third party."
                        },
                        "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.organisation.v0]/items[at0005]/items[openEHR-EHR-CLUSTER.individual_professional.v0]/items[openEHR-EHR-CLUSTER.person_name.v0]",
                        "children": [
                          {
                            "id": "structured_name",
                            "name": "Structured name",
                            "localizedName": "Structured name",
                            "rmType": "CLUSTER",
                            "nodeId": "at0002",
                            "min": 0,
                            "max": 1,
                            "cardinalities": [
                              {
                                "min": 2,
                                "max": -1,
                                "ids": [
                                  "given_name",
                                  "family_name"
                                ]
                              }
                            ],
                            "localizedNames": {
                              "en": "Structured name"
                            },
                            "localizedDescriptions": {
                              "en": "Name in structured format."
                            },
                            "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.organisation.v0]/items[at0005]/items[openEHR-EHR-CLUSTER.individual_professional.v0]/items[openEHR-EHR-CLUSTER.person_name.v0]/items[at0002]",
                            "children": [
                              {
                                "id": "given_name",
                                "name": "Given name",
                                "localizedName": "Given name",
                                "rmType": "DV_TEXT",
                                "nodeId": "at0003",
                                "min": 1,
                                "max": 1,
                                "localizedNames": {
                                  "en": "Given name"
                                },
                                "localizedDescriptions": {
                                  "en": "Given / personal / first name."
                                },
                                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.organisation.v0]/items[at0005]/items[openEHR-EHR-CLUSTER.individual_professional.v0]/items[openEHR-EHR-CLUSTER.person_name.v0]/items[at0002]/items[at0003]/value",
                                "inputs": [
                                  {
                                    "type": "TEXT"
                                  }
                                ]
                              },
                              {
                                "id": "family_name",
                                "name": "Family name",
                                "localizedName": "Family name",
                                "rmType": "DV_TEXT",
                                "nodeId": "at0005",
                                "min": 1,
                                "max": 1,
                                "localizedNames": {
                                  "en": "Family name"
                                },
                                "localizedDescriptions": {
                                  "en": "Family name or Surname."
                                },
                                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.organisation.v0]/items[at0005]/items[openEHR-EHR-CLUSTER.individual_professional.v0]/items[openEHR-EHR-CLUSTER.person_name.v0]/items[at0002]/items[at0005]/value",
                                "inputs": [
                                  {
                                    "type": "TEXT"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "id": "professional_details",
                        "name": "Professional details",
                        "localizedName": "Professional details",
                        "rmType": "CLUSTER",
                        "nodeId": "at0003",
                        "min": 0,
                        "max": 1,
                        "localizedNames": {
                          "en": "Professional details"
                        },
                        "localizedDescriptions": {
                          "en": "Details of a professional carer."
                        },
                        "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.organisation.v0]/items[at0005]/items[openEHR-EHR-CLUSTER.individual_professional.v0]/items[at0003]",
                        "children": [
                          {
                            "id": "professional_identifier",
                            "name": "Professional Identifier",
                            "localizedName": "Professional Identifier",
                            "rmType": "DV_TEXT",
                            "nodeId": "at0011",
                            "min": 0,
                            "max": 1,
                            "localizedNames": {
                              "en": "Professional Identifier"
                            },
                            "localizedDescriptions": {
                              "en": "Professional identifier of the individual."
                            },
                            "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.organisation.v0]/items[at0005]/items[openEHR-EHR-CLUSTER.individual_professional.v0]/items[at0003]/items[at0011]/value",
                            "inputs": [
                              {
                                "type": "TEXT"
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "id": "context_detail",
            "name": "Context detail",
            "localizedName": "Context detail",
            "rmType": "CLUSTER",
            "nodeId": "openEHR-EHR-CLUSTER.composition_context_detail.v1",
            "min": 0,
            "max": -1,
            "localizedNames": {
              "en": "Context detail"
            },
            "localizedDescriptions": {
              "en": "Additional contextual detail to be applied to all compositions."
            },
            "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.composition_context_detail.v1]",
            "children": [
              {
                "id": "guideline_id",
                "name": "Guideline ID",
                "localizedName": "Guideline ID",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0003",
                "min": 1,
                "max": 1,
                "localizedNames": {
                  "en": "Guideline ID"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.composition_context_detail.v1]/items[at0003]/value",
                "inputs": [
                  {
                    "suffix": "code",
                    "type": "TEXT"
                  },
                  {
                    "suffix": "value",
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "source",
                "name": "Source",
                "localizedName": "Source",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0005",
                "min": 1,
                "max": 1,
                "localizedNames": {
                  "en": "Source"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.composition_context_detail.v1]/items[at0005,'Source']/value"
              },
              {
                "id": "date_and_time_of_last_anamnesis_by_gynecologist",
                "name": "Date and time of last anamnesis by gynecologist",
                "localizedName": "Date and time of last anamnesis by gynecologist",
                "rmType": "DV_DATE_TIME",
                "nodeId": "at0007",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Date and time of last anamnesis by gynecologist"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.composition_context_detail.v1]/items[at0007,'Date and time of last anamnesis by gynecologist']/value",
                "inputs": [
                  {
                    "type": "DATETIME"
                  }
                ]
              }
            ]
          },
          {
            "id": "start_time",
            "name": "Start_time",
            "rmType": "DV_DATE_TIME",
            "min": 1,
            "max": 1,
            "aqlPath": "/context/start_time",
            "inputs": [
              {
                "type": "DATETIME"
              }
            ],
            "inContext": true
          },
          {
            "id": "setting",
            "name": "Setting",
            "rmType": "DV_CODED_TEXT",
            "min": 1,
            "max": 1,
            "aqlPath": "/context/setting",
            "inputs": [
              {
                "suffix": "code",
                "type": "TEXT"
              },
              {
                "suffix": "value",
                "type": "TEXT"
              }
            ],
            "inContext": true
          }
        ]
      },
      {
        "id": "menstrual_cycle",
        "name": "Menstrual cycle",
        "localizedName": "Menstrual cycle",
        "rmType": "OBSERVATION",
        "nodeId": "openEHR-EHR-OBSERVATION.menstrual_cycle.v0",
        "min": 0,
        "max": 1,
        "localizedNames": {
          "en": "Menstrual cycle"
        },
        "localizedDescriptions": {
          "en": "Record information about a menstural cyclea single day within a menstrual cycle."
        },
        "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]",
        "children": [
          {
            "id": "length_of_cycle",
            "name": "Length of cycle",
            "localizedName": "Length of cycle",
            "rmType": "DV_DURATION",
            "nodeId": "at0011",
            "min": 0,
            "max": 1,
            "localizedNames": {
              "en": "Length of cycle"
            },
            "localizedDescriptions": {
              "en": "Length of single menstrual cycle or typical length over many cycles."
            },
            "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/data[at0003]/items[at0011]/value",
            "inputs": [
              {
                "suffix": "day",
                "type": "INTEGER",
                "validation": {
                  "range": {
                    "minOp": ">=",
                    "min": 0
                  }
                }
              }
            ]
          },
          {
            "id": "description_of_cycle",
            "name": "Description of cycle",
            "localizedName": "Description of cycle",
            "rmType": "DV_CODED_TEXT",
            "nodeId": "at0013",
            "min": 0,
            "max": 1,
            "localizedNames": {
              "en": "Description of cycle"
            },
            "localizedDescriptions": {
              "en": "Narrative description of the menstrual cycle as a whole."
            },
            "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/data[at0003]/items[at0013]/value"
          },
          {
            "id": "last_menstruation_date",
            "name": "Last Menstruation Date",
            "localizedName": "Last Menstruation Date",
            "rmType": "DV_DATE",
            "nodeId": "at0035",
            "min": 0,
            "max": 1,
            "localizedNames": {
              "en": "Last Menstruation Date"
            },
            "localizedDescriptions": {
              "en": "*"
            },
            "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/data[at0003]/items[at0035]/value",
            "inputs": [
              {
                "type": "DATE"
              }
            ]
          },
          {
            "id": "duration_of_menses",
            "name": "Duration of menses",
            "localizedName": "Duration of menses",
            "rmType": "DV_DURATION",
            "nodeId": "at0010",
            "min": 0,
            "max": 1,
            "localizedNames": {
              "en": "Duration of menses"
            },
            "localizedDescriptions": {
              "en": "Duration of menstrual bleeding in a single cycle or typical duration over many cycles."
            },
            "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/data[at0003]/items[at0010]/value",
            "inputs": [
              {
                "suffix": "day",
                "type": "INTEGER",
                "validation": {
                  "range": {
                    "minOp": ">=",
                    "min": 0
                  }
                }
              }
            ]
          },
          {
            "id": "diagnosis_details",
            "name": "Diagnosis details",
            "localizedName": "Diagnosis details",
            "rmType": "CLUSTER",
            "nodeId": "openEHR-EHR-CLUSTER.diagnosis_details.v0",
            "min": 0,
            "max": -1,
            "localizedNames": {
              "en": "Diagnosis details"
            },
            "localizedDescriptions": {
              "en": "unknown"
            },
            "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/data[at0003]/items[openEHR-EHR-CLUSTER.diagnosis_details.v0]",
            "children": [
              {
                "id": "symptomatic",
                "name": "Symptomatic",
                "localizedName": "Symptomatic",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0015",
                "min": 0,
                "max": -1,
                "localizedNames": {
                  "en": "Symptomatic"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/data[at0003]/items[openEHR-EHR-CLUSTER.diagnosis_details.v0]/items[at0015]/value"
              },
              {
                "id": "hrt_hormon_replacement_therapy",
                "name": "HRT (hormon replacement therapy)",
                "localizedName": "HRT (hormon replacement therapy)",
                "rmType": "DV_BOOLEAN",
                "nodeId": "at0004",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "HRT (hormon replacement therapy)"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/data[at0003]/items[openEHR-EHR-CLUSTER.diagnosis_details.v0]/items[at0004]/value",
                "inputs": [
                  {
                    "type": "BOOLEAN"
                  }
                ]
              },
              {
                "id": "vaccination_data_is_not_complete",
                "name": "Vaccination data is not complete",
                "localizedName": "Vaccination data is not complete",
                "rmType": "DV_BOOLEAN",
                "nodeId": "at0008",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Vaccination data is not complete"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/data[at0003]/items[openEHR-EHR-CLUSTER.diagnosis_details.v0]/items[at0008]/value",
                "inputs": [
                  {
                    "type": "BOOLEAN"
                  }
                ]
              },
              {
                "id": "pregnant",
                "name": "Pregnant",
                "localizedName": "Pregnant",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0010",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Pregnant"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/data[at0003]/items[openEHR-EHR-CLUSTER.diagnosis_details.v0]/items[at0010]/value"
              },
              {
                "id": "last_menstruation_date_unknown",
                "name": "Last menstruation date unknown",
                "localizedName": "Last menstruation date unknown",
                "rmType": "DV_BOOLEAN",
                "nodeId": "at0014",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Last menstruation date unknown"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/data[at0003]/items[openEHR-EHR-CLUSTER.diagnosis_details.v0]/items[at0014]/value",
                "inputs": [
                  {
                    "type": "BOOLEAN"
                  }
                ]
              }
            ]
          },
          {
            "id": "contraception_use",
            "name": "Contraception use",
            "localizedName": "Contraception use",
            "rmType": "DV_CODED_TEXT",
            "nodeId": "at0009",
            "min": 0,
            "max": 1,
            "dependsOn": [
              "description_of_cycle",
              "diagnosis_details",
              "length_of_cycle",
              "last_menstruation_date",
              "duration_of_menses"
            ],
            "localizedNames": {
              "en": "Contraception use"
            },
            "localizedDescriptions": {
              "en": "Identify concurrent hormone or intrauterine contraception use. Coding with a terminology is preferred, where possible."
            },
            "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/state[at0008]/items[at0009]/value"
          },
          {
            "id": "time",
            "name": "Time",
            "rmType": "DV_DATE_TIME",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/data[at0001]/events[at0002]/time",
            "inputs": [
              {
                "type": "DATETIME"
              }
            ],
            "inContext": true
          },
          {
            "id": "language",
            "name": "Language",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/language",
            "inContext": true
          },
          {
            "id": "encoding",
            "name": "Encoding",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/encoding",
            "inContext": true
          },
          {
            "id": "subject",
            "name": "Subject",
            "rmType": "PARTY_PROXY",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-OBSERVATION.menstrual_cycle.v0]/subject",
            "inputs": [
              {
                "suffix": "id",
                "type": "TEXT"
              },
              {
                "suffix": "id_scheme",
                "type": "TEXT"
              },
              {
                "suffix": "id_namespace",
                "type": "TEXT"
              },
              {
                "suffix": "name",
                "type": "TEXT"
              }
            ],
            "inContext": true
          }
        ]
      },
      {
        "id": "contraceptive_summary",
        "name": "Contraceptive summary",
        "localizedName": "Contraceptive summary",
        "rmType": "EVALUATION",
        "nodeId": "openEHR-EHR-EVALUATION.contraceptive_summary.v0",
        "min": 0,
        "max": 1,
        "localizedNames": {
          "en": "Contraceptive summary"
        },
        "localizedDescriptions": {
          "en": "Summary information about a woman's use of contraception during her lifetime."
        },
        "aqlPath": "/content[openEHR-EHR-EVALUATION.contraceptive_summary.v0]",
        "children": [
          {
            "id": "regular_contraception_commenced",
            "name": "Regular contraception commenced",
            "localizedName": "Regular contraception commenced",
            "rmType": "DV_DATE",
            "nodeId": "at0015",
            "min": 0,
            "max": 1,
            "localizedNames": {
              "en": "Regular contraception commenced"
            },
            "localizedDescriptions": {
              "en": "The date, or partial date, when the woman first started using contraception on a regular basis."
            },
            "annotations": {
              "comment": "Can be a partial date, for example, only a year. For example, this date could represent when the individual commenced smoking every Friday night or at parties. "
            },
            "aqlPath": "/content[openEHR-EHR-EVALUATION.contraceptive_summary.v0]/data[at0001]/items[at0015]/value",
            "inputs": [
              {
                "type": "DATE"
              }
            ]
          },
          {
            "id": "language",
            "name": "Language",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.contraceptive_summary.v0]/language",
            "inContext": true
          },
          {
            "id": "encoding",
            "name": "Encoding",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.contraceptive_summary.v0]/encoding",
            "inContext": true
          },
          {
            "id": "subject",
            "name": "Subject",
            "rmType": "PARTY_PROXY",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.contraceptive_summary.v0]/subject",
            "inputs": [
              {
                "suffix": "id",
                "type": "TEXT"
              },
              {
                "suffix": "id_scheme",
                "type": "TEXT"
              },
              {
                "suffix": "id_namespace",
                "type": "TEXT"
              },
              {
                "suffix": "name",
                "type": "TEXT"
              }
            ],
            "inContext": true
          }
        ]
      },
      {
        "id": "obstetric_summary",
        "name": "Obstetric summary",
        "localizedName": "Obstetric summary",
        "rmType": "EVALUATION",
        "nodeId": "openEHR-EHR-EVALUATION.obstetric_summary.v0",
        "min": 0,
        "max": 1,
        "localizedNames": {
          "en": "Obstetric summary"
        },
        "localizedDescriptions": {
          "en": "An overview of the obstetric history of a woman, including a summary of all pregnancies and the associated outcomes or interventions."
        },
        "aqlPath": "/content[openEHR-EHR-EVALUATION.obstetric_summary.v0]",
        "children": [
          {
            "id": "abortions_a",
            "name": "Abortions (A)",
            "localizedName": "Abortions (A)",
            "rmType": "DV_COUNT",
            "nodeId": "at0017",
            "min": 0,
            "max": 1,
            "localizedNames": {
              "en": "Abortions (A)"
            },
            "localizedDescriptions": {
              "en": "Number of non-viable pregnancies from all causes and at any gestation, including miscarriages, induced terminations and ectopic pregnancies."
            },
            "annotations": {
              "comment": "When all of 'Miscarriages', 'Terminations' and 'Ectopic Pregnancies' are recorded, this number should be equal to their sum."
            },
            "aqlPath": "/content[openEHR-EHR-EVALUATION.obstetric_summary.v0]/data[at0001]/items[at0017]/value",
            "inputs": [
              {
                "type": "INTEGER",
                "validation": {
                  "range": {
                    "minOp": ">=",
                    "min": 0,
                    "maxOp": "<=",
                    "max": 99
                  }
                }
              }
            ]
          },
          {
            "id": "live_births",
            "name": "Live Births",
            "localizedName": "Live Births",
            "rmType": "DV_COUNT",
            "nodeId": "at0006",
            "min": 0,
            "max": 1,
            "localizedNames": {
              "en": "Live Births"
            },
            "localizedDescriptions": {
              "en": "Number of babies born alive."
            },
            "aqlPath": "/content[openEHR-EHR-EVALUATION.obstetric_summary.v0]/data[at0001]/items[at0006]/value",
            "inputs": [
              {
                "type": "INTEGER",
                "validation": {
                  "range": {
                    "minOp": ">=",
                    "min": 0,
                    "maxOp": "<=",
                    "max": 99
                  }
                }
              }
            ]
          },
          {
            "id": "language",
            "name": "Language",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.obstetric_summary.v0]/language",
            "inContext": true
          },
          {
            "id": "encoding",
            "name": "Encoding",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.obstetric_summary.v0]/encoding",
            "inContext": true
          },
          {
            "id": "subject",
            "name": "Subject",
            "rmType": "PARTY_PROXY",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.obstetric_summary.v0]/subject",
            "inputs": [
              {
                "suffix": "id",
                "type": "TEXT"
              },
              {
                "suffix": "id_scheme",
                "type": "TEXT"
              },
              {
                "suffix": "id_namespace",
                "type": "TEXT"
              },
              {
                "suffix": "name",
                "type": "TEXT"
              }
            ],
            "inContext": true
          }
        ]
      },
      {
        "id": "tobacco_smoking_summary",
        "name": "Tobacco smoking summary",
        "localizedName": "Tobacco smoking summary",
        "rmType": "EVALUATION",
        "nodeId": "openEHR-EHR-EVALUATION.tobacco_smoking_summary.v1",
        "min": 0,
        "max": 1,
        "localizedNames": {
          "en": "Tobacco smoking summary"
        },
        "localizedDescriptions": {
          "en": "Summary or persistent information about the tobacco smoking habit of an individual."
        },
        "aqlPath": "/content[openEHR-EHR-EVALUATION.tobacco_smoking_summary.v1]",
        "children": [
          {
            "id": "overall_status",
            "name": "Overall status",
            "localizedName": "Overall status",
            "rmType": "DV_CODED_TEXT",
            "nodeId": "at0089",
            "min": 0,
            "max": 1,
            "localizedNames": {
              "en": "Overall status"
            },
            "localizedDescriptions": {
              "en": "Statement about current smoking behaviour for all types of tobacco."
            },
            "aqlPath": "/content[openEHR-EHR-EVALUATION.tobacco_smoking_summary.v1]/data[at0001]/items[at0089]/value"
          },
          {
            "id": "language",
            "name": "Language",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.tobacco_smoking_summary.v1]/language",
            "inContext": true
          },
          {
            "id": "encoding",
            "name": "Encoding",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.tobacco_smoking_summary.v1]/encoding",
            "inContext": true
          },
          {
            "id": "subject",
            "name": "Subject",
            "rmType": "PARTY_PROXY",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.tobacco_smoking_summary.v1]/subject",
            "inputs": [
              {
                "suffix": "id",
                "type": "TEXT"
              },
              {
                "suffix": "id_scheme",
                "type": "TEXT"
              },
              {
                "suffix": "id_namespace",
                "type": "TEXT"
              },
              {
                "suffix": "name",
                "type": "TEXT"
              }
            ],
            "inContext": true
          }
        ]
      },
      {
        "id": "clinical_synopsis",
        "name": "Clinical Synopsis",
        "localizedName": "Clinical Synopsis",
        "rmType": "EVALUATION",
        "nodeId": "openEHR-EHR-EVALUATION.clinical_synopsis.v1",
        "min": 0,
        "max": 1,
        "localizedNames": {
          "en": "Clinical Synopsis"
        },
        "localizedDescriptions": {
          "en": "Narrative summary or overview about a patient, specifically from the perspective of a healthcare provider, and with or without associated interpretations."
        },
        "aqlPath": "/content[openEHR-EHR-EVALUATION.clinical_synopsis.v1]",
        "children": [
          {
            "id": "synopsis",
            "name": "Synopsis",
            "localizedName": "Synopsis",
            "rmType": "DV_TEXT",
            "nodeId": "at0002",
            "min": 0,
            "max": 1,
            "localizedNames": {
              "en": "Synopsis"
            },
            "localizedDescriptions": {
              "en": "The summary, assessment, conclusions or evaluation of the clinical findings."
            },
            "aqlPath": "/content[openEHR-EHR-EVALUATION.clinical_synopsis.v1]/data[at0001]/items[at0002]/value",
            "inputs": [
              {
                "type": "TEXT"
              }
            ]
          },
          {
            "id": "language",
            "name": "Language",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.clinical_synopsis.v1]/language",
            "inContext": true
          },
          {
            "id": "encoding",
            "name": "Encoding",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.clinical_synopsis.v1]/encoding",
            "inContext": true
          },
          {
            "id": "subject",
            "name": "Subject",
            "rmType": "PARTY_PROXY",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.clinical_synopsis.v1]/subject",
            "inputs": [
              {
                "suffix": "id",
                "type": "TEXT"
              },
              {
                "suffix": "id_scheme",
                "type": "TEXT"
              },
              {
                "suffix": "id_namespace",
                "type": "TEXT"
              },
              {
                "suffix": "name",
                "type": "TEXT"
              }
            ],
            "inContext": true
          }
        ]
      },
      {
        "id": "service_request",
        "name": "Service request",
        "localizedName": "Service request",
        "rmType": "INSTRUCTION",
        "nodeId": "openEHR-EHR-INSTRUCTION.service_request.v1",
        "min": 0,
        "max": -1,
        "localizedNames": {
          "en": "Service request"
        },
        "localizedDescriptions": {
          "en": "Request for a health-related service or activity to be delivered by a clinician, organisation or agency."
        },
        "aqlPath": "/content[openEHR-EHR-INSTRUCTION.service_request.v1]",
        "children": [
          {
            "id": "current_activity",
            "name": "Current Activity",
            "localizedName": "Current Activity",
            "rmType": "ACTIVITY",
            "nodeId": "at0001",
            "min": 1,
            "max": -1,
            "localizedNames": {
              "en": "Current Activity"
            },
            "localizedDescriptions": {
              "en": "Current Activity."
            },
            "aqlPath": "/content[openEHR-EHR-INSTRUCTION.service_request.v1]/activities[at0001]",
            "children": [
              {
                "id": "service_name",
                "name": "Service name",
                "localizedName": "Service name",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0121",
                "min": 1,
                "max": 1,
                "localizedNames": {
                  "en": "Service name"
                },
                "localizedDescriptions": {
                  "en": "The name of the single service or activity requested."
                },
                "annotations": {
                  "comment": "Coding of the 'Service name' with a coding system is desirable, if available. For example: 'referral' to an endocrinologist for diabetes management."
                },
                "aqlPath": "/content[openEHR-EHR-INSTRUCTION.service_request.v1]/activities[at0001]/description[at0009]/items[at0121]/value"
              },
              {
                "id": "timing",
                "name": "Timing",
                "rmType": "DV_PARSABLE",
                "min": 1,
                "max": 1,
                "aqlPath": "/content[openEHR-EHR-INSTRUCTION.service_request.v1]/activities[at0001]/timing",
                "inputs": [
                  {
                    "suffix": "value",
                    "type": "TEXT"
                  },
                  {
                    "suffix": "formalism",
                    "type": "TEXT"
                  }
                ],
                "inContext": true
              },
              {
                "id": "action_archetype_id",
                "name": "Action_archetype_id",
                "rmType": "STRING",
                "min": 1,
                "max": 1,
                "aqlPath": "/content[openEHR-EHR-INSTRUCTION.service_request.v1]/activities[at0001]/action_archetype_id",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ],
                "inContext": true
              }
            ]
          },
          {
            "id": "expiry_time",
            "name": "expiry_time",
            "rmType": "DV_DATE_TIME",
            "min": 0,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-INSTRUCTION.service_request.v1]/expiry_time",
            "inputs": [
              {
                "type": "DATETIME"
              }
            ]
          },
          {
            "id": "narrative",
            "name": "Narrative",
            "rmType": "DV_TEXT",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-INSTRUCTION.service_request.v1]/narrative",
            "inputs": [
              {
                "type": "TEXT"
              }
            ],
            "inContext": true
          },
          {
            "id": "language",
            "name": "Language",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-INSTRUCTION.service_request.v1]/language",
            "inContext": true
          },
          {
            "id": "encoding",
            "name": "Encoding",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-INSTRUCTION.service_request.v1]/encoding",
            "inContext": true
          },
          {
            "id": "subject",
            "name": "Subject",
            "rmType": "PARTY_PROXY",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-INSTRUCTION.service_request.v1]/subject",
            "inputs": [
              {
                "suffix": "id",
                "type": "TEXT"
              },
              {
                "suffix": "id_scheme",
                "type": "TEXT"
              },
              {
                "suffix": "id_namespace",
                "type": "TEXT"
              },
              {
                "suffix": "name",
                "type": "TEXT"
              }
            ],
            "inContext": true
          }
        ]
      },
      {
        "id": "problem_diagnosis",
        "name": "Problem/Diagnosis",
        "localizedName": "Problem/Diagnosis",
        "rmType": "EVALUATION",
        "nodeId": "openEHR-EHR-EVALUATION.problem_diagnosis.v1",
        "min": 0,
        "max": 1,
        "localizedNames": {
          "en": "Problem/Diagnosis"
        },
        "localizedDescriptions": {
          "en": "Details about a single identified health condition, injury, disability or any other issue which impacts on the physical, mental and/or social well-being of an individual."
        },
        "annotations": {
          "comment": "Clear delineation between the scope of a problem versus a diagnosis is not easy to achieve in practice. For the purposes of clinical documentation with this archetype, problem and diagnosis are regarded as a continuum, with increasing levels of detail and supportive evidence usually providing weight towards the label of 'diagnosis'."
        },
        "aqlPath": "/content[openEHR-EHR-EVALUATION.problem_diagnosis.v1]",
        "children": [
          {
            "id": "clinical_diagnosis_icd",
            "name": "Clinical diagnosis ICD",
            "localizedName": "Clinical diagnosis ICD",
            "rmType": "DV_CODED_TEXT",
            "nodeId": "at0002",
            "min": 1,
            "max": 1,
            "localizedNames": {
              "en": "Clinical diagnosis ICD"
            },
            "localizedDescriptions": {
              "en": "Identification of the problem or diagnosis, by name."
            },
            "annotations": {
              "comment": "Coding of the name of the problem or diagnosis with a terminology is preferred, where possible."
            },
            "aqlPath": "/content[openEHR-EHR-EVALUATION.problem_diagnosis.v1]/data[at0001]/items[at0002,'Clinical diagnosis ICD']/value"
          },
          {
            "id": "accompanying_diagnosis",
            "name": "Accompanying diagnosis",
            "localizedName": "Accompanying diagnosis",
            "rmType": "DV_CODED_TEXT",
            "nodeId": "at0002",
            "min": 0,
            "max": -1,
            "localizedNames": {
              "en": "Accompanying diagnosis"
            },
            "localizedDescriptions": {
              "en": "Identification of the problem or diagnosis, by name."
            },
            "annotations": {
              "comment": "Coding of the name of the problem or diagnosis with a terminology is preferred, where possible."
            },
            "aqlPath": "/content[openEHR-EHR-EVALUATION.problem_diagnosis.v1]/data[at0001]/items[at0002,'Accompanying diagnosis']/value"
          },
          {
            "id": "terminology_details",
            "name": "Terminology Details",
            "localizedName": "Terminology Details",
            "rmType": "CLUSTER",
            "nodeId": "openEHR-EHR-CLUSTER.terminology_details.v0",
            "min": 0,
            "max": -1,
            "localizedNames": {
              "en": "Terminology Details"
            },
            "localizedDescriptions": {
              "en": "terminology details"
            },
            "aqlPath": "/content[openEHR-EHR-EVALUATION.problem_diagnosis.v1]/data[at0001]/items[openEHR-EHR-CLUSTER.terminology_details.v0]",
            "children": [
              {
                "id": "terminology_name",
                "name": "Terminology name",
                "localizedName": "Terminology name",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0001",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Terminology name"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/content[openEHR-EHR-EVALUATION.problem_diagnosis.v1]/data[at0001]/items[openEHR-EHR-CLUSTER.terminology_details.v0]/items[at0001]/value",
                "inputs": [
                  {
                    "suffix": "code",
                    "type": "CODED_TEXT",
                    "list": [
                      {
                        "value": "at0005",
                        "label": "ICD",
                        "localizedLabels": {
                          "en": "ICD"
                        },
                        "localizedDescriptions": {
                          "en": "*"
                        }
                      }
                    ],
                    "defaultValue": "at0005"
                  }
                ]
              },
              {
                "id": "terminology_version",
                "name": "Terminology version",
                "localizedName": "Terminology version",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0002",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Terminology version"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/content[openEHR-EHR-EVALUATION.problem_diagnosis.v1]/data[at0001]/items[openEHR-EHR-CLUSTER.terminology_details.v0]/items[at0002]/value",
                "inputs": [
                  {
                    "suffix": "code",
                    "type": "CODED_TEXT",
                    "list": [
                      {
                        "value": "at0006",
                        "label": "10",
                        "localizedLabels": {
                          "en": "10"
                        },
                        "localizedDescriptions": {
                          "en": "*"
                        }
                      }
                    ],
                    "defaultValue": "at0006"
                  }
                ]
              }
            ]
          },
          {
            "id": "comment",
            "name": "Comment",
            "localizedName": "Comment",
            "rmType": "DV_TEXT",
            "nodeId": "at0069",
            "min": 0,
            "max": 1,
            "localizedNames": {
              "en": "Comment"
            },
            "localizedDescriptions": {
              "en": "Additional narrative about the problem or diagnosis not captured in other fields."
            },
            "aqlPath": "/content[openEHR-EHR-EVALUATION.problem_diagnosis.v1]/data[at0001]/items[at0069]/value",
            "inputs": [
              {
                "type": "TEXT"
              }
            ]
          },
          {
            "id": "language",
            "name": "Language",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.problem_diagnosis.v1]/language",
            "inContext": true
          },
          {
            "id": "encoding",
            "name": "Encoding",
            "rmType": "CODE_PHRASE",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.problem_diagnosis.v1]/encoding",
            "inContext": true
          },
          {
            "id": "subject",
            "name": "Subject",
            "rmType": "PARTY_PROXY",
            "min": 1,
            "max": 1,
            "aqlPath": "/content[openEHR-EHR-EVALUATION.problem_diagnosis.v1]/subject",
            "inputs": [
              {
                "suffix": "id",
                "type": "TEXT"
              },
              {
                "suffix": "id_scheme",
                "type": "TEXT"
              },
              {
                "suffix": "id_namespace",
                "type": "TEXT"
              },
              {
                "suffix": "name",
                "type": "TEXT"
              }
            ],
            "inContext": true
          }
        ]
      },
      {
        "id": "category",
        "rmType": "DV_CODED_TEXT",
        "nodeId": "",
        "min": 1,
        "max": 1,
        "aqlPath": "/category",
        "inputs": [
          {
            "suffix": "code",
            "type": "CODED_TEXT",
            "list": [
              {
                "value": "433",
                "label": "event",
                "localizedLabels": {
                  "en": "event"
                }
              }
            ],
            "terminology": "openehr"
          }
        ],
        "inContext": true
      },
      {
        "id": "language",
        "name": "Language",
        "rmType": "CODE_PHRASE",
        "min": 1,
        "max": 1,
        "aqlPath": "/language",
        "inContext": true
      },
      {
        "id": "territory",
        "name": "Territory",
        "rmType": "CODE_PHRASE",
        "min": 1,
        "max": 1,
        "aqlPath": "/territory",
        "inContext": true
      },
      {
        "id": "composer",
        "name": "Composer",
        "rmType": "PARTY_PROXY",
        "min": 1,
        "max": 1,
        "aqlPath": "/composer",
        "inputs": [
          {
            "suffix": "id",
            "type": "TEXT"
          },
          {
            "suffix": "id_scheme",
            "type": "TEXT"
          },
          {
            "suffix": "id_namespace",
            "type": "TEXT"
          },
          {
            "suffix": "name",
            "type": "TEXT"
          }
        ],
        "inContext": true
      }
    ]
  }
}
