// Copyright 2021 Better Ltd (www.better.care)
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

{
  "templateId": "Adverse Reaction List.v1",
  "version": "2.3",
  "defaultLanguage": "en",
  "languages": [
    "en"
  ],
  "tree": {
    "id": "adverse_reaction_list",
    "name": "Adverse reaction list",
    "localizedName": "Adverse reaction list",
    "rmType": "COMPOSITION",
    "nodeId": "openEHR-EHR-COMPOSITION.adverse_reaction_list.v1",
    "min": 1,
    "max": 1,
    "localizedNames": {
      "en": "Adverse reaction list"
    },
    "localizedDescriptions": {
      "en": "A persistent and managed list of adverse reactions experienced by the subject that may influence clinical decision-making and care provision."
    },
    "aqlPath": "",
    "children": [
      {
        "id": "context",
        "rmType": "EVENT_CONTEXT",
        "nodeId": "",
        "min": 1,
        "max": 1,
        "aqlPath": "/context",
        "children": [
          {
            "id": "encounter_context",
            "name": "Encounter Context",
            "localizedName": "Encounter Context",
            "rmType": "CLUSTER",
            "nodeId": "openEHR-EHR-CLUSTER.encounter_context.v0",
            "min": 0,
            "max": -1,
            "localizedNames": {
              "en": "Encounter Context"
            },
            "localizedDescriptions": {
              "en": "Provides extra information about the encounter context, regarding the internal cases used at Pathfinder for encounter types and reasons, along with an appointment and encounter id. Terminology should be loaded from the Think!EHR terminology adapter."
            },
            "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.encounter_context.v0]",
            "children": [
              {
                "id": "encounter_id",
                "name": "Encounter id",
                "localizedName": "Encounter id",
                "rmType": "DV_TEXT",
                "nodeId": "at0002",
                "min": 0,
                "max": -1,
                "localizedNames": {
                  "en": "Encounter id"
                },
                "localizedDescriptions": {
                  "en": "Unique identifier for each encounter process."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.encounter_context.v0]/items[at0002]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "encounter_type",
                "name": "Encounter type",
                "localizedName": "Encounter type",
                "rmType": "DV_TEXT",
                "nodeId": "at0003",
                "min": 0,
                "max": -1,
                "localizedNames": {
                  "en": "Encounter type"
                },
                "localizedDescriptions": {
                  "en": "Type of encounter, should be provided by terminology server."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.encounter_context.v0]/items[at0003]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "encounter_reason",
                "name": "Encounter reason",
                "localizedName": "Encounter reason",
                "rmType": "DV_TEXT",
                "nodeId": "at0004",
                "min": 0,
                "max": -1,
                "localizedNames": {
                  "en": "Encounter reason"
                },
                "localizedDescriptions": {
                  "en": "Reason for encounter, should be provided by terminology server."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.encounter_context.v0]/items[at0004]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "appointment_id",
                "name": "Appointment id",
                "localizedName": "Appointment id",
                "rmType": "DV_TEXT",
                "nodeId": "at0001",
                "min": 0,
                "max": -1,
                "localizedNames": {
                  "en": "Appointment id"
                },
                "localizedDescriptions": {
                  "en": "Unique identifier for each appointment process."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.encounter_context.v0]/items[at0001]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              }
            ]
          },
          {
            "id": "xds_metadata",
            "name": "XDS Metadata",
            "localizedName": "XDS Metadata",
            "rmType": "CLUSTER",
            "nodeId": "openEHR-EHR-CLUSTER.xds_metadata.v0",
            "min": 0,
            "max": -1,
            "localizedNames": {
              "en": "XDS Metadata"
            },
            "localizedDescriptions": {
              "en": "Additional composition metadata aligned with IHE-XDS which is not already available from the Reference Model COMPOSITION class."
            },
            "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.xds_metadata.v0]",
            "children": [
              {
                "id": "author_specialty",
                "name": "Author specialty",
                "localizedName": "Author specialty",
                "rmType": "DV_TEXT",
                "nodeId": "at0001",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Author specialty"
                },
                "localizedDescriptions": {
                  "en": "The speciality of the author/composer of the document."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.xds_metadata.v0]/items[at0001]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "class_code",
                "name": "Class code",
                "localizedName": "Class code",
                "rmType": "DV_TEXT",
                "nodeId": "at0002",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Class code"
                },
                "localizedDescriptions": {
                  "en": "A high-level document class code, normally selected from a valueset provided by the IHE-XDS Affinity Domain."
                },
                "annotations": {
                  "comment": "For example: Report, Summary, Images, Plan, Patient Preferences, Workflow.\r\n                                        These codes are specific to an XDS Affinity Domain.\n                                    "
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.xds_metadata.v0]/items[at0002]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "document_type",
                "name": "Document type",
                "localizedName": "Document type",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0003",
                "min": 1,
                "max": 1,
                "localizedNames": {
                  "en": "Document type"
                },
                "localizedDescriptions": {
                  "en": "The code specifying the precise type of document from the user perspective. Normally selected from a valueset provided by the local IHE-XDS Affinity Domain or national standard."
                },
                "annotations": {
                  "comment": "for example: Pulmonary History and Physical, Discharge Summary, Ultrasound Report.\r\n                                        These codes are specific to an XDS Affinity Domain.\n                                    "
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.xds_metadata.v0]/items[at0003]/value",
                "inputs": [
                  {
                    "suffix": "code",
                    "type": "TEXT",
                    "defaultValue": "886921000000105",
                    "terminology": "SNOMED-CT"
                  },
                  {
                    "suffix": "value",
                    "type": "TEXT",
                    "defaultValue": "Allergies and adverse reaction",
                    "terminology": "SNOMED-CT"
                  }
                ]
              },
              {
                "id": "confidentiality_code",
                "name": "Confidentiality code",
                "localizedName": "Confidentiality code",
                "rmType": "DV_TEXT",
                "nodeId": "at0004",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Confidentiality code"
                },
                "localizedDescriptions": {
                  "en": "A term specifying the level of confidentiality of the XDS Document."
                },
                "annotations": {
                  "comment": "Coded text is preferred, normally specific to an XDS Affinity Domain."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.xds_metadata.v0]/items[at0004]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "health_care_facility_type",
                "name": "Health care facility type",
                "localizedName": "Health care facility type",
                "rmType": "DV_TEXT",
                "nodeId": "at0007",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Health care facility type"
                },
                "localizedDescriptions": {
                  "en": "A term defining the healthcare facility type."
                },
                "annotations": {
                  "comment": "Coded text is preferred. The codes are specific to an XDS Affinity Domain."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.xds_metadata.v0]/items[at0007]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "practice_setting_code",
                "name": "Practice setting code",
                "localizedName": "Practice setting code",
                "rmType": "DV_TEXT",
                "nodeId": "at0009",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Practice setting code"
                },
                "localizedDescriptions": {
                  "en": "The code specifying the clinical specialty where the act that resulted in the document was performed."
                },
                "annotations": {
                  "comment": "For example: Family Practice, Laboratory, Radiology.\r\n                                        Coded text is preferred, normally specific to an XDS Affinity Domain.\n                                    "
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.xds_metadata.v0]/items[at0009]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "event_code",
                "name": "Event code",
                "localizedName": "Event code",
                "rmType": "DV_TEXT",
                "nodeId": "at0011",
                "min": 0,
                "max": -1,
                "localizedNames": {
                  "en": "Event code"
                },
                "localizedDescriptions": {
                  "en": "This list of codes represents the main clinical acts."
                },
                "annotations": {
                  "comment": "For example: Colonoscopy or appendicectomy."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.xds_metadata.v0]/items[at0011]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "document_media",
                "name": "Document_media",
                "localizedName": "Document_media",
                "rmType": "DV_MULTIMEDIA",
                "nodeId": "at0010",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Document_media"
                },
                "localizedDescriptions": {
                  "en": "Additional metadata about the document itself, including size, url."
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.xds_metadata.v0]/items[at0010]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              }
            ]
          },
          {
            "id": "merge_composition_information",
            "name": "Merge composition information",
            "localizedName": "Merge composition information",
            "rmType": "CLUSTER",
            "nodeId": "openEHR-EHR-CLUSTER.merge_status.v0",
            "min": 0,
            "max": -1,
            "localizedNames": {
              "en": "Merge composition information"
            },
            "localizedDescriptions": {
              "en": "Merge status"
            },
            "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.merge_status.v0]",
            "children": [
              {
                "id": "action_status",
                "name": "Action status",
                "localizedName": "Action status",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0001",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Action status"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.merge_status.v0]/items[at0001]/value",
                "inputs": [
                  {
                    "suffix": "code",
                    "type": "CODED_TEXT",
                    "list": [
                      {
                        "value": "at0002",
                        "label": "Merged",
                        "localizedLabels": {
                          "en": "Merged"
                        },
                        "localizedDescriptions": {
                          "en": "Patient information was merged from different sources."
                        }
                      },
                      {
                        "value": "at0003",
                        "label": "Unmerged",
                        "localizedLabels": {
                          "en": "Unmerged"
                        },
                        "localizedDescriptions": {
                          "en": "Patient information was unmerged."
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "id": "date_and_time_of_action",
                "name": "Date and time of action",
                "localizedName": "Date and time of action",
                "rmType": "DV_DATE_TIME",
                "nodeId": "at0004",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Date and time of action"
                },
                "localizedDescriptions": {
                  "en": "*"
                },
                "aqlPath": "/context/other_context[at0001]/items[openEHR-EHR-CLUSTER.merge_status.v0]/items[at0004]/value",
                "inputs": [
                  {
                    "type": "DATETIME"
                  }
                ]
              }
            ]
          },
          {
            "id": "start_time",
            "name": "Start_time",
            "rmType": "DV_DATE_TIME",
            "min": 1,
            "max": 1,
            "aqlPath": "/context/start_time",
            "inputs": [
              {
                "type": "DATETIME"
              }
            ],
            "inContext": true
          },
          {
            "id": "setting",
            "name": "Setting",
            "rmType": "DV_CODED_TEXT",
            "min": 1,
            "max": 1,
            "aqlPath": "/context/setting",
            "inputs": [
              {
                "suffix": "code",
                "type": "TEXT"
              },
              {
                "suffix": "value",
                "type": "TEXT"
              }
            ],
            "inContext": true
          }
        ]
      },
      {
        "id": "allergies_and_adverse_reactions",
        "name": "Allergies and adverse reactions",
        "localizedName": "Allergies and adverse reactions",
        "rmType": "SECTION",
        "nodeId": "openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1",
        "min": 0,
        "max": -1,
        "localizedNames": {
          "en": "Allergies and adverse reactions"
        },
        "localizedDescriptions": {
          "en": "Allergies and adverse reactions heading (AoMRC)."
        },
        "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]",
        "children": [
          {
            "id": "adverse_reaction_risk",
            "name": "Adverse reaction risk",
            "localizedName": "Adverse reaction risk",
            "rmType": "EVALUATION",
            "nodeId": "openEHR-EHR-EVALUATION.adverse_reaction_risk.v1",
            "min": 0,
            "max": -1,
            "localizedNames": {
              "en": "Adverse reaction risk"
            },
            "localizedDescriptions": {
              "en": "Risk of harmful or undesirable physiological response which is unique to an individual and associated with exposure to a substance."
            },
            "annotations": {
              "comment": "Substances include, but are not limited to: a therapeutic substance administered correctly at an appropriate dosage for the individual; food; material derived from plants or animals; or venom from insect stings.",
              "source": "openEHR,FHIR"
            },
            "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]",
            "children": [
              {
                "id": "causative_agent",
                "name": "Causative agent",
                "localizedName": "Causative agent",
                "rmType": "DV_TEXT",
                "nodeId": "at0002",
                "min": 1,
                "max": 1,
                "localizedNames": {
                  "en": "Causative agent"
                },
                "localizedDescriptions": {
                  "en": "Identification of a substance, or substance class, that is considered to put the individual at risk of an adverse reaction event."
                },
                "annotations": {
                  "comment": "Both an individual substance and a substance class are valid entries in 'Substance'. A substance may be a compound of simpler substances, for example a medicinal product. If the value in 'Substance' is an individual substance, it may be duplicated in 'Specific substance'. It is strongly recommended that both 'Substance' and 'Specific substance' be coded with a terminology capable of triggering decision support, where possible. For example: Snomed CT, DM+D, RxNorm, NDFRT, ATC, New Zealand Universal List of Medicines and Australian Medicines Terminology. Free text entry should only be used if there is no appropriate terminology available.",
                  "source": "openEHR,FHIR,DAM"
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0002,'Causative agent']/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "status",
                "name": "Status",
                "localizedName": "Status",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0063",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Status"
                },
                "localizedDescriptions": {
                  "en": "Assertion about the certainty of the propensity, or potential future risk, of the identified 'Substance' to cause a reaction."
                },
                "annotations": {
                  "comment": "Decision support would typically raise alerts for 'Suspected', 'Likely', 'Confirmed', and ignore a 'Refuted' reaction. Clinical systems may choose not to display Adverse reaction entries with a \r\n                                \r\n                                \r\n                                'Refuted' status in the Adverse Reaction List. \r\n                                \r\n                                However, 'Refuted' may be useful for reconciliation of the adverse reaction list or when communicating between systems\r\n                                \r\n                                . Some implementations may choose to make this field mandatory.\r\n                                'Resolved' may be used variably across systems, depending on clinical use and context - there appears to be differing opinion whether this should still be used to raise potential alerts or to display in an Adverse Reaction List. The free text data type will allow for local variation by enabling other value sets to be applied to this data element in a template - in this situation it is recommended that values should be coded using a terminology.\n                            ",
                  "source": "FHIR, DAM"
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0063]/value",
                "inputs": [
                  {
                    "suffix": "code",
                    "type": "CODED_TEXT",
                    "list": [
                      {
                        "value": "at0127",
                        "label": "Suspected",
                        "localizedLabels": {
                          "en": "Suspected"
                        },
                        "localizedDescriptions": {
                          "en": "A low level of clinical certainty about the propensity of a reaction to the identified 'Substance'."
                        }
                      },
                      {
                        "value": "at0064",
                        "label": "Likely",
                        "localizedLabels": {
                          "en": "Likely"
                        },
                        "localizedDescriptions": {
                          "en": "A reasonable level of certainty about the propensity for a reaction to the identified 'Substance'."
                        }
                      },
                      {
                        "value": "at0065",
                        "label": "Confirmed",
                        "localizedLabels": {
                          "en": "Confirmed"
                        },
                        "localizedDescriptions": {
                          "en": "A high level of certainty about the propensity for a reaction to the identified 'Substance', which may include clinical evidence by testing or re-challenge."
                        }
                      },
                      {
                        "value": "at0067",
                        "label": "Resolved",
                        "localizedLabels": {
                          "en": "Resolved"
                        },
                        "localizedDescriptions": {
                          "en": "The previously known reaction to the identified 'Substance' has been clinically reassessed and considered no longer to be an active risk."
                        }
                      },
                      {
                        "value": "at0066",
                        "label": "Refuted",
                        "localizedLabels": {
                          "en": "Refuted"
                        },
                        "localizedDescriptions": {
                          "en": "The propensity for a reaction to the identified 'Substance' has been clinically reassessed or has been disproved with a high level of clinical certainty by re-exposure or deliberate challenge."
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "id": "criticality",
                "name": "Criticality",
                "localizedName": "Criticality",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0101",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Criticality"
                },
                "localizedDescriptions": {
                  "en": "An indication of the potential for critical system organ damage or life threatening consequence."
                },
                "annotations": {
                  "comment": "This can be regarded as a predictive judgement of a 'worst case scenario'.\r\n                                In most contexts 'Low' would be regarded as the default value.\n                            ",
                  "source": "DAM, openEHR"
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0101]/value",
                "inputs": [
                  {
                    "suffix": "code",
                    "type": "CODED_TEXT",
                    "list": [
                      {
                        "value": "at0102",
                        "label": "Low",
                        "localizedLabels": {
                          "en": "Low"
                        },
                        "localizedDescriptions": {
                          "en": "Exposure to substance unlikely to result in critical system organ damage or life threatening consequence. Future exposure to the identified 'Substance' should be considered a relative contra-indication in normal clinical circumstances."
                        }
                      },
                      {
                        "value": "at0103",
                        "label": "High",
                        "localizedLabels": {
                          "en": "High"
                        },
                        "localizedDescriptions": {
                          "en": "Exposure to substance may result in critical organ system damage or life threatening consequence. Future exposure to the identified 'Substance' should be considered an absolute contra-indication in normal clinical circumstances."
                        }
                      },
                      {
                        "value": "at0124",
                        "label": "Indeterminate",
                        "localizedLabels": {
                          "en": "Indeterminate"
                        },
                        "localizedDescriptions": {
                          "en": "Unable to assess with information available."
                        }
                      }
                    ]
                  }
                ]
              },
              {
                "id": "category",
                "name": "Category",
                "localizedName": "Category",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0120",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Category"
                },
                "localizedDescriptions": {
                  "en": "Category of the identified 'Substance'."
                },
                "annotations": {
                  "comment": "This data element has been included because it is currently being captured in some clinical systems. This data can be derived from the Substance where coding systems are used, and is effectively redundant in that situation."
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0120]/value",
                "inputs": [
                  {
                    "suffix": "code",
                    "type": "CODED_TEXT",
                    "list": [
                      {
                        "value": "at0121",
                        "label": "Food",
                        "localizedLabels": {
                          "en": "Food"
                        },
                        "localizedDescriptions": {
                          "en": "Any substance consumed to provide nutritional support for the body, such as peanut or egg."
                        }
                      },
                      {
                        "value": "at0122",
                        "label": "Medication",
                        "localizedLabels": {
                          "en": "Medication"
                        },
                        "localizedDescriptions": {
                          "en": "Any substance administered to achieve a physiological effect."
                        }
                      },
                      {
                        "value": "at0123",
                        "label": "Other",
                        "localizedLabels": {
                          "en": "Other"
                        },
                        "localizedDescriptions": {
                          "en": "Any other substance encountered including venom, latex and other environmental substances."
                        }
                      }
                    ],
                    "listOpen": true
                  },
                  {
                    "suffix": "other",
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "onset_of_last_reaction",
                "name": "Onset of last reaction",
                "localizedName": "Onset of last reaction",
                "rmType": "DV_DATE_TIME",
                "nodeId": "at0117",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Onset of last reaction"
                },
                "localizedDescriptions": {
                  "en": "The date and/or time of the onset of the last known occurrence of a reaction event."
                },
                "annotations": {
                  "comment": "This date may be be a duplicate of the most recent 'Onset of reaction' date.\r\n                                Where a textual representation of the date of last occurrence is required e.g 'In Childhood, '10 years ago' the Comment element should be used.\n                            ",
                  "source": "IMH"
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0117]/value",
                "inputs": [
                  {
                    "type": "DATETIME"
                  }
                ]
              },
              {
                "id": "reaction_mechanism",
                "name": "Reaction mechanism",
                "localizedName": "Reaction mechanism",
                "rmType": "DV_CODED_TEXT",
                "nodeId": "at0058",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Reaction mechanism"
                },
                "localizedDescriptions": {
                  "en": "Identification of the underlying physiological mechanism for the adverse reaction."
                },
                "annotations": {
                  "comment": "Immune-mediated responses have been traditionally regarded as an indicator for escalation of significant future risk. Contemporary knowledge suggests that some reactions previously thought to be immune are actually non-immune and still carry life threatening risk. \r\n                                \r\n                                Immunological testing may provide supporting evidence for the mechanism and causative substance , but no tests are 100% sensitive or specific for a sensitivity. \r\n                                \r\n                                It is acknowledged that most clinicians will NOT be able to distinguish the mechanism of any specific reaction. However this data element is included because many legacy systems have captured this attribute.\n                            ",
                  "source": "FHIR, DAM"
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0058]/value",
                "inputs": [
                  {
                    "suffix": "code",
                    "type": "CODED_TEXT",
                    "list": [
                      {
                        "value": "at0059",
                        "label": "Immune mediated",
                        "localizedLabels": {
                          "en": "Immune mediated"
                        },
                        "localizedDescriptions": {
                          "en": "Immune mediated reaction, including allergic reactions and hypersensitivities."
                        }
                      },
                      {
                        "value": "at0060",
                        "label": "Non-immune mediated",
                        "localizedLabels": {
                          "en": "Non-immune mediated"
                        },
                        "localizedDescriptions": {
                          "en": "A non-immune mediated reaction, which can include pseudo-allergic reactions, side effects, intolerances, drug toxicities (for example, to Gentamicin)."
                        }
                      },
                      {
                        "value": "at0126",
                        "label": "Indeterminate",
                        "localizedLabels": {
                          "en": "Indeterminate"
                        },
                        "localizedDescriptions": {
                          "en": "The physiological mechanism could not be determined."
                        }
                      }
                    ],
                    "listOpen": true
                  },
                  {
                    "suffix": "other",
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "comment",
                "name": "Comment",
                "localizedName": "Comment",
                "rmType": "DV_TEXT",
                "nodeId": "at0006",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Comment"
                },
                "localizedDescriptions": {
                  "en": "Additional narrative about the propensity for the adverse reaction, not captured in other fields."
                },
                "annotations": {
                  "comment": "For example: including reason for flagging a 'Criticality' of 'High risk'; and instructions related to future exposure or administration of the Substance, such as administration within an Intensive Care Unit or under corticosteroid cover.",
                  "source": "openEHR"
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0006]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "reaction_details",
                "name": "Reaction details",
                "localizedName": "Reaction details",
                "rmType": "CLUSTER",
                "nodeId": "at0009",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "Reaction details"
                },
                "localizedDescriptions": {
                  "en": "Details about each adverse reaction event linked to exposure to the identified 'Substance'."
                },
                "annotations": {
                  "source": "openEHR,FHIR,DAM"
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']",
                "children": [
                  {
                    "id": "specific_substance",
                    "name": "Specific substance",
                    "localizedName": "Specific substance",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0010",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Specific substance"
                    },
                    "localizedDescriptions": {
                      "en": "Identification of the substance considered to be responsible for the specific adverse reaction event."
                    },
                    "annotations": {
                      "comment": "For example: 'Amoxycillin'. Only an individual substance is a valid entry in 'Specific substance'. A substance may be a compound of simpler substances, for example a medicinal product. If the value in 'Substance' is an individual substance and not a substance class, then it may be duplicated in this data element. It is strongly recommended that 'Specific substance' be coded with a terminology capable of triggering decision support, where possible. For example: RxNorm, Snomed CT, DM+D, NDFRT, ICD-9, ICD-10, UNI, ATC and CPT. Free text entry should only be used if there is no appropriate terminology available.",
                      "source": "FHIR, openEHR,DAM"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0010]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "certainty",
                    "name": "Certainty",
                    "localizedName": "Certainty",
                    "rmType": "DV_CODED_TEXT",
                    "nodeId": "at0021",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Certainty"
                    },
                    "localizedDescriptions": {
                      "en": "Statement about the degree of clinical certainty that the identified 'Specific substance' was the cause of the 'Manifestation' in this reaction event."
                    },
                    "annotations": {
                      "source": "FHIR"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0021]/value",
                    "inputs": [
                      {
                        "suffix": "code",
                        "type": "CODED_TEXT",
                        "list": [
                          {
                            "value": "at0095",
                            "label": "Suspected",
                            "localizedLabels": {
                              "en": "Suspected"
                            },
                            "localizedDescriptions": {
                              "en": "A low level of clinical certainty that the reaction was caused by the identified 'Specific substance'."
                            }
                          },
                          {
                            "value": "at0023",
                            "label": "Likely",
                            "localizedLabels": {
                              "en": "Likely"
                            },
                            "localizedDescriptions": {
                              "en": "A reasonable level of clinical certainty that the reaction was caused by the identified 'Specific substance'."
                            }
                          },
                          {
                            "value": "at0118",
                            "label": "Confirmed",
                            "localizedLabels": {
                              "en": "Confirmed"
                            },
                            "localizedDescriptions": {
                              "en": "A high level of clinical certainty that the reaction was due to the identified 'Substance', which may include clinical evidence by testing or re-challenge."
                            }
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "id": "manifestation",
                    "name": "Manifestation",
                    "localizedName": "Manifestation",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0011",
                    "min": 0,
                    "max": -1,
                    "localizedNames": {
                      "en": "Manifestation"
                    },
                    "localizedDescriptions": {
                      "en": "Clinical symptoms and/or signs that are observed or associated with the adverse reaction."
                    },
                    "annotations": {
                      "comment": "Manifestation can be expressed as a single word, phrase or brief description. For example: nausea, rash. 'No reaction'may be appropriate where a previous reaction has been noted but the reaction did not re-occur after further exposure. It is preferable that 'Manifestation' should be coded with a terminology, where possible. The values entered here may be used to display on an application screen as part of a list of adverse reactions, as recommended in the UK NHS CUI guidelines.\r\n                                \r\n                                \r\n                                \r\n                                Terminologies commonly used include, but are not limited to, SNOMED-CT or ICD10.\n                            ",
                      "source": "FHIR, openEHR,DAM"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0011]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "reaction_description",
                    "name": "Reaction description",
                    "localizedName": "Reaction description",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0012",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Reaction description"
                    },
                    "localizedDescriptions": {
                      "en": "Narrative description about the adverse reaction as a whole, including details of the manifestation if required."
                    },
                    "annotations": {
                      "source": "FHIR, openEHR"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0012]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "onset_of_reaction",
                    "name": "Onset of reaction",
                    "localizedName": "Onset of reaction",
                    "rmType": "DV_DATE_TIME",
                    "nodeId": "at0027",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Onset of reaction"
                    },
                    "localizedDescriptions": {
                      "en": "Record of the date and/or time of the onset of the reaction."
                    },
                    "annotations": {
                      "source": "openEHR, FHIR, DAM"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0027]/value",
                    "inputs": [
                      {
                        "type": "DATETIME"
                      }
                    ]
                  },
                  {
                    "id": "duration_of_reaction",
                    "name": "Duration of reaction",
                    "localizedName": "Duration of reaction",
                    "rmType": "DV_DURATION",
                    "nodeId": "at0028",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Duration of reaction"
                    },
                    "localizedDescriptions": {
                      "en": "The total amount of time that the manifestation of the adverse reaction persisted."
                    },
                    "annotations": {
                      "source": "openEHR"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0028]/value",
                    "inputs": [
                      {
                        "suffix": "year",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "month",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "day",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "week",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "hour",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "minute",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "second",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      }
                    ]
                  },
                  {
                    "id": "severity_of_reaction",
                    "name": "Severity of reaction",
                    "localizedName": "Severity of reaction",
                    "rmType": "DV_CODED_TEXT",
                    "nodeId": "at0089",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Severity of reaction"
                    },
                    "localizedDescriptions": {
                      "en": "Clinical assessment of the severity of the reaction event as a whole, potentially considering multiple different manifestations."
                    },
                    "annotations": {
                      "comment": "It is acknowledged that this assessment is very subjective. There may be some some specific practice domains where objective scales have been applied.\r\n                                Objective scales can be included in this model using the 'Reaction details' Cluster.\n                            ",
                      "source": "DAM"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0089]/value",
                    "inputs": [
                      {
                        "suffix": "code",
                        "type": "CODED_TEXT",
                        "list": [
                          {
                            "value": "at0093",
                            "label": "Mild",
                            "localizedLabels": {
                              "en": "Mild"
                            },
                            "localizedDescriptions": {
                              "en": "Causes mild physiological effects."
                            }
                          },
                          {
                            "value": "at0092",
                            "label": "Moderate",
                            "localizedLabels": {
                              "en": "Moderate"
                            },
                            "localizedDescriptions": {
                              "en": "Causes moderate physiological effects."
                            }
                          },
                          {
                            "value": "at0090",
                            "label": "Severe",
                            "localizedLabels": {
                              "en": "Severe"
                            },
                            "localizedDescriptions": {
                              "en": "Causes severe physiological effects."
                            }
                          }
                        ],
                        "listOpen": true
                      },
                      {
                        "suffix": "other",
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "initial_exposure",
                    "name": "Initial exposure",
                    "localizedName": "Initial exposure",
                    "rmType": "DV_DATE_TIME",
                    "nodeId": "at0020",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Initial exposure"
                    },
                    "localizedDescriptions": {
                      "en": "Record of the date and/or time of the first exposure to the Substance for this Reaction Event."
                    },
                    "annotations": {
                      "comment": "Exposure can be more complicated by more than one exposure events leading to a reaction. Further details about the nature of the exposure can be provided by use of additional archetypes in the 'Exposure details' SLOT or as text in the 'Exposure description'.",
                      "source": "FHIR, openEHR,DAM"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0020]/value",
                    "inputs": [
                      {
                        "type": "DATETIME"
                      }
                    ]
                  },
                  {
                    "id": "duration_of_exposure",
                    "name": "Duration of exposure",
                    "localizedName": "Duration of exposure",
                    "rmType": "DV_DURATION",
                    "nodeId": "at0025",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Duration of exposure"
                    },
                    "localizedDescriptions": {
                      "en": "The total amount of time the individual was exposed to the identified 'Specific substance'."
                    },
                    "annotations": {
                      "source": "openEHR"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0025]/value",
                    "inputs": [
                      {
                        "suffix": "year",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "month",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "day",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "week",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "hour",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "minute",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      },
                      {
                        "suffix": "second",
                        "type": "INTEGER",
                        "validation": {
                          "range": {
                            "minOp": ">=",
                            "min": 0
                          }
                        }
                      }
                    ]
                  },
                  {
                    "id": "route_of_exposure",
                    "name": "Route of exposure",
                    "localizedName": "Route of exposure",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0106",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Route of exposure"
                    },
                    "localizedDescriptions": {
                      "en": "Identification of the route by which the subject was exposed to the identified 'Specific substance'."
                    },
                    "annotations": {
                      "comment": "Coding of the Route of Exposure with a terminology should be used wherever possible.",
                      "source": "FHIR, DAM"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0106]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "exposure_description",
                    "name": "Exposure description",
                    "localizedName": "Exposure description",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0018",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Exposure description"
                    },
                    "localizedDescriptions": {
                      "en": "Narrative description about exposure to the identified 'Specific substance'."
                    },
                    "annotations": {
                      "source": "openEHR"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0018]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "clinical_management_description",
                    "name": "Clinical management description",
                    "localizedName": "Clinical management description",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0040",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Clinical management description"
                    },
                    "localizedDescriptions": {
                      "en": "Narrative description about the clinical management provided."
                    },
                    "annotations": {
                      "source": "openEHR"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0040]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "record_provenance",
                    "name": "Record provenance",
                    "localizedName": "Record provenance",
                    "rmType": "CLUSTER",
                    "nodeId": "openEHR-EHR-CLUSTER.record_provenance.v1",
                    "min": 0,
                    "max": -1,
                    "localizedNames": {
                      "en": "Record provenance"
                    },
                    "localizedDescriptions": {
                      "en": "The original source of the information recorded."
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[openEHR-EHR-CLUSTER.record_provenance.v1]",
                    "children": [
                      {
                        "id": "information_source",
                        "name": "Information Source",
                        "localizedName": "Information Source",
                        "rmType": "DV_TEXT",
                        "nodeId": "at0001",
                        "min": 0,
                        "max": 1,
                        "localizedNames": {
                          "en": "Information Source"
                        },
                        "localizedDescriptions": {
                          "en": "The technical feed / message / webservice from where the information was sourced. For human interpretation only."
                        },
                        "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[openEHR-EHR-CLUSTER.record_provenance.v1]/items[at0001]/value",
                        "inputs": [
                          {
                            "type": "TEXT"
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "id": "reaction_comment",
                    "name": "Reaction comment",
                    "localizedName": "Reaction comment",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0032",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Reaction comment"
                    },
                    "localizedDescriptions": {
                      "en": "Additional narrative about the adverse reaction event not captured in other fields."
                    },
                    "annotations": {
                      "source": "openEHR"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/data[at0001]/items[at0009,'Reaction details']/items[at0032]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  }
                ]
              },
              {
                "id": "last_updated",
                "name": "Last updated",
                "localizedName": "Last updated",
                "rmType": "DV_DATE_TIME",
                "nodeId": "at0062",
                "min": 0,
                "max": 1,
                "dependsOn": [
                  "reaction_details",
                  "criticality",
                  "causative_agent",
                  "reaction_mechanism",
                  "comment",
                  "category",
                  "onset_of_last_reaction",
                  "status"
                ],
                "localizedNames": {
                  "en": "Last updated"
                },
                "localizedDescriptions": {
                  "en": "Date when the propensity or the reaction event was updated."
                },
                "annotations": {
                  "comment": "Note: maps to recordedDate in FHIR.",
                  "source": "openEHR, FHIR, DAM"
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/protocol[at0042]/items[at0062]/value",
                "inputs": [
                  {
                    "type": "DATETIME"
                  }
                ]
              },
              {
                "id": "supporting_clinical_record_information",
                "name": "Supporting clinical record information",
                "localizedName": "Supporting clinical record information",
                "rmType": "DV_EHR_URI",
                "nodeId": "at0047",
                "min": 0,
                "max": 1,
                "dependsOn": [
                  "reaction_details",
                  "criticality",
                  "causative_agent",
                  "reaction_mechanism",
                  "comment",
                  "category",
                  "onset_of_last_reaction",
                  "status"
                ],
                "localizedNames": {
                  "en": "Supporting clinical record information"
                },
                "localizedDescriptions": {
                  "en": "Link to further information about the presentation and findings that exist elsewhere in the health record, including allergy test reports."
                },
                "annotations": {
                  "comment": "For example, presenting symptoms, examination findings, diagnosis etc.\r\n                                [Note: FHIR,DAM: Maps to Sensitivity Test.]\n                            ",
                  "source": "FHIR, openEHR, DAM"
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/protocol[at0042]/items[at0047]/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "reaction_reported",
                "name": "Reaction reported?",
                "localizedName": "Reaction reported?",
                "rmType": "DV_BOOLEAN",
                "nodeId": "at0044",
                "min": 0,
                "max": 1,
                "dependsOn": [
                  "reaction_details",
                  "criticality",
                  "causative_agent",
                  "reaction_mechanism",
                  "comment",
                  "category",
                  "onset_of_last_reaction",
                  "status"
                ],
                "localizedNames": {
                  "en": "Reaction reported?"
                },
                "localizedDescriptions": {
                  "en": "Has the adverse reaction ever been reported to a regulatory body?"
                },
                "annotations": {
                  "source": "openEHR"
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/protocol[at0042]/items[at0044]/value",
                "inputs": [
                  {
                    "type": "BOOLEAN"
                  }
                ]
              },
              {
                "id": "report_summary",
                "name": "Report summary",
                "localizedName": "Report summary",
                "rmType": "CLUSTER",
                "nodeId": "at0099",
                "min": 0,
                "max": -1,
                "dependsOn": [
                  "reaction_details",
                  "criticality",
                  "causative_agent",
                  "reaction_mechanism",
                  "comment",
                  "category",
                  "onset_of_last_reaction",
                  "status"
                ],
                "localizedNames": {
                  "en": "Report summary"
                },
                "localizedDescriptions": {
                  "en": "Structured details about reports that have been forwarded to regulatory bodies."
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/protocol[at0042]/items[at0099]",
                "children": [
                  {
                    "id": "date_of_report",
                    "name": "Date of report",
                    "localizedName": "Date of report",
                    "rmType": "DV_DATE_TIME",
                    "nodeId": "at0125",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Date of report"
                    },
                    "localizedDescriptions": {
                      "en": "Date that the report was sent to the regulatory authority."
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/protocol[at0042]/items[at0099]/items[at0125]/value",
                    "inputs": [
                      {
                        "type": "DATETIME"
                      }
                    ]
                  },
                  {
                    "id": "report_comment",
                    "name": "Report comment",
                    "localizedName": "Report comment",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0048",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Report comment"
                    },
                    "localizedDescriptions": {
                      "en": "Narrative about the adverse reaction report or reporting process."
                    },
                    "annotations": {
                      "comment": "For example, the reason for non-reporting.",
                      "source": "openEHR"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/protocol[at0042]/items[at0099]/items[at0048]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "adverse_reaction_report",
                    "name": "Adverse reaction report",
                    "localizedName": "Adverse reaction report",
                    "rmType": "DV_URI",
                    "nodeId": "at0045",
                    "min": 0,
                    "max": -1,
                    "localizedNames": {
                      "en": "Adverse reaction report"
                    },
                    "localizedDescriptions": {
                      "en": "Link to an adverse reaction Report sent to a regulatory body."
                    },
                    "annotations": {
                      "source": "openEHR"
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/protocol[at0042]/items[at0099]/items[at0045]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  }
                ]
              },
              {
                "id": "language",
                "name": "Language",
                "rmType": "CODE_PHRASE",
                "min": 1,
                "max": 1,
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/language",
                "inContext": true
              },
              {
                "id": "encoding",
                "name": "Encoding",
                "rmType": "CODE_PHRASE",
                "min": 1,
                "max": 1,
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/encoding",
                "inContext": true
              },
              {
                "id": "subject",
                "name": "Subject",
                "rmType": "PARTY_PROXY",
                "min": 1,
                "max": 1,
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-EVALUATION.adverse_reaction_risk.v1]/subject",
                "inputs": [
                  {
                    "suffix": "id",
                    "type": "TEXT"
                  },
                  {
                    "suffix": "id_scheme",
                    "type": "TEXT"
                  },
                  {
                    "suffix": "id_namespace",
                    "type": "TEXT"
                  },
                  {
                    "suffix": "name",
                    "type": "TEXT"
                  }
                ],
                "inContext": true
              }
            ]
          },
          {
            "id": "empty_list_info",
            "name": "Empty list info",
            "localizedName": "Empty list info",
            "rmType": "SECTION",
            "nodeId": "openEHR-EHR-SECTION.adhoc.v1",
            "min": 0,
            "max": -1,
            "localizedNames": {
              "en": "Empty list info"
            },
            "localizedDescriptions": {
              "en": "A generic section header."
            },
            "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']",
            "children": [
              {
                "id": "exclusion_-_global",
                "name": "Exclusion - global",
                "localizedName": "Exclusion - global",
                "rmType": "EVALUATION",
                "nodeId": "openEHR-EHR-EVALUATION.exclusion_global.v1",
                "min": 0,
                "max": -1,
                "localizedNames": {
                  "en": "Exclusion - global"
                },
                "localizedDescriptions": {
                  "en": "An overall statement of exclusion about all Problems/diagnoses, Family history, Medications, Procedures, Adverse reactions or other clinical items that are either not currently present, or have not been present in the past."
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.exclusion_global.v1]",
                "children": [
                  {
                    "id": "global_exclusion_of_adverse_reactions",
                    "name": "Global exclusion of adverse reactions",
                    "localizedName": "Global exclusion of adverse reactions",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0002",
                    "min": 1,
                    "max": 1,
                    "localizedNames": {
                      "en": "Global exclusion of adverse reactions"
                    },
                    "localizedDescriptions": {
                      "en": "Overall statement of exclusion about all adverse reactions at the time of recording."
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.exclusion_global.v1]/data[at0001]/items[at0002,'Global exclusion of adverse reactions']/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "comment",
                    "name": "Comment",
                    "localizedName": "Comment",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0011",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Comment"
                    },
                    "localizedDescriptions": {
                      "en": "Additional comment not covered in other fields."
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.exclusion_global.v1]/data[at0001]/items[at0011]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "language",
                    "name": "Language",
                    "rmType": "CODE_PHRASE",
                    "min": 1,
                    "max": 1,
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.exclusion_global.v1]/language",
                    "inContext": true
                  },
                  {
                    "id": "encoding",
                    "name": "Encoding",
                    "rmType": "CODE_PHRASE",
                    "min": 1,
                    "max": 1,
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.exclusion_global.v1]/encoding",
                    "inContext": true
                  },
                  {
                    "id": "subject",
                    "name": "Subject",
                    "rmType": "PARTY_PROXY",
                    "min": 1,
                    "max": 1,
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.exclusion_global.v1]/subject",
                    "inputs": [
                      {
                        "suffix": "id",
                        "type": "TEXT"
                      },
                      {
                        "suffix": "id_scheme",
                        "type": "TEXT"
                      },
                      {
                        "suffix": "id_namespace",
                        "type": "TEXT"
                      },
                      {
                        "suffix": "name",
                        "type": "TEXT"
                      }
                    ],
                    "inContext": true
                  }
                ]
              },
              {
                "id": "absence_of_information",
                "name": "Absence of Information",
                "localizedName": "Absence of Information",
                "rmType": "EVALUATION",
                "nodeId": "openEHR-EHR-EVALUATION.absence.v1",
                "min": 0,
                "max": -1,
                "localizedNames": {
                  "en": "Absence of Information"
                },
                "localizedDescriptions": {
                  "en": "Statement that specified health information is not available for inclusion in the health record or extract at the time of recording."
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.absence.v1]",
                "children": [
                  {
                    "id": "absence_statement",
                    "name": "Absence statement",
                    "localizedName": "Absence statement",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0002",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Absence statement"
                    },
                    "localizedDescriptions": {
                      "en": "Positive statement that no information is available."
                    },
                    "annotations": {
                      "comment": "For example: \"No information available about adverse reactions\"; No information available about problems or diagnoses\"; \"No information available about previous procedures performed\"; or \"No information available about medications used\"."
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.absence.v1]/data[at0001]/items[at0002]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "reason_for_absence",
                    "name": "Reason for absence",
                    "localizedName": "Reason for absence",
                    "rmType": "DV_TEXT",
                    "nodeId": "at0005",
                    "min": 0,
                    "max": 1,
                    "localizedNames": {
                      "en": "Reason for absence"
                    },
                    "localizedDescriptions": {
                      "en": "Narrative description of the reason why there is no information available."
                    },
                    "annotations": {
                      "comment": "For example: patient is unconscious or refuses to provide information."
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.absence.v1]/data[at0001]/items[at0005]/value",
                    "inputs": [
                      {
                        "type": "TEXT"
                      }
                    ]
                  },
                  {
                    "id": "last_updated",
                    "name": "Last updated",
                    "localizedName": "Last updated",
                    "rmType": "DV_DATE_TIME",
                    "nodeId": "at0004",
                    "min": 0,
                    "max": 1,
                    "dependsOn": [
                      "absence_statement",
                      "reason_for_absence"
                    ],
                    "localizedNames": {
                      "en": "Last updated"
                    },
                    "localizedDescriptions": {
                      "en": "The date at which the absence was last updated."
                    },
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.absence.v1]/protocol[at0003]/items[at0004]/value",
                    "inputs": [
                      {
                        "type": "DATETIME"
                      }
                    ]
                  },
                  {
                    "id": "language",
                    "name": "Language",
                    "rmType": "CODE_PHRASE",
                    "min": 1,
                    "max": 1,
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.absence.v1]/language",
                    "inContext": true
                  },
                  {
                    "id": "encoding",
                    "name": "Encoding",
                    "rmType": "CODE_PHRASE",
                    "min": 1,
                    "max": 1,
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.absence.v1]/encoding",
                    "inContext": true
                  },
                  {
                    "id": "subject",
                    "name": "Subject",
                    "rmType": "PARTY_PROXY",
                    "min": 1,
                    "max": 1,
                    "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-SECTION.adhoc.v1,'Empty list info']/items[openEHR-EHR-EVALUATION.absence.v1]/subject",
                    "inputs": [
                      {
                        "suffix": "id",
                        "type": "TEXT"
                      },
                      {
                        "suffix": "id_scheme",
                        "type": "TEXT"
                      },
                      {
                        "suffix": "id_namespace",
                        "type": "TEXT"
                      },
                      {
                        "suffix": "name",
                        "type": "TEXT"
                      }
                    ],
                    "inContext": true
                  }
                ]
              }
            ]
          },
          {
            "id": "general_information",
            "name": "General information",
            "localizedName": "General information",
            "rmType": "OBSERVATION",
            "nodeId": "openEHR-EHR-OBSERVATION.progress_note.v1",
            "min": 0,
            "max": -1,
            "localizedNames": {
              "en": "General information"
            },
            "localizedDescriptions": {
              "en": "Narrative description of health-related events at a specific point-in-time about an individual, specifically from the perspective of a healthcare provider."
            },
            "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-OBSERVATION.progress_note.v1,'General information']",
            "children": [
              {
                "id": "general_report_comment",
                "name": "General report comment",
                "localizedName": "General report comment",
                "rmType": "DV_TEXT",
                "nodeId": "at0004",
                "min": 0,
                "max": 1,
                "localizedNames": {
                  "en": "General report comment"
                },
                "localizedDescriptions": {
                  "en": "Narrative description of health-related events, health status, findings, opinions at a specific point-in-time."
                },
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-OBSERVATION.progress_note.v1,'General information']/data[at0001]/events[at0002]/data[at0003]/items[at0004,'General report comment']/value",
                "inputs": [
                  {
                    "type": "TEXT"
                  }
                ]
              },
              {
                "id": "time",
                "name": "Time",
                "rmType": "DV_DATE_TIME",
                "min": 1,
                "max": 1,
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-OBSERVATION.progress_note.v1,'General information']/data[at0001]/events[at0002]/time",
                "inputs": [
                  {
                    "type": "DATETIME"
                  }
                ],
                "inContext": true
              },
              {
                "id": "language",
                "name": "Language",
                "rmType": "CODE_PHRASE",
                "min": 1,
                "max": 1,
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-OBSERVATION.progress_note.v1,'General information']/language",
                "inContext": true
              },
              {
                "id": "encoding",
                "name": "Encoding",
                "rmType": "CODE_PHRASE",
                "min": 1,
                "max": 1,
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-OBSERVATION.progress_note.v1,'General information']/encoding",
                "inContext": true
              },
              {
                "id": "subject",
                "name": "Subject",
                "rmType": "PARTY_PROXY",
                "min": 1,
                "max": 1,
                "aqlPath": "/content[openEHR-EHR-SECTION.allergies_adverse_reactions_rcp.v1]/items[openEHR-EHR-OBSERVATION.progress_note.v1,'General information']/subject",
                "inputs": [
                  {
                    "suffix": "id",
                    "type": "TEXT"
                  },
                  {
                    "suffix": "id_scheme",
                    "type": "TEXT"
                  },
                  {
                    "suffix": "id_namespace",
                    "type": "TEXT"
                  },
                  {
                    "suffix": "name",
                    "type": "TEXT"
                  }
                ],
                "inContext": true
              }
            ]
          }
        ]
      },
      {
        "id": "category",
        "rmType": "DV_CODED_TEXT",
        "nodeId": "",
        "min": 1,
        "max": 1,
        "aqlPath": "/category",
        "inputs": [
          {
            "suffix": "code",
            "type": "CODED_TEXT",
            "list": [
              {
                "value": "433",
                "label": "event",
                "localizedLabels": {
                  "en": "event"
                }
              }
            ],
            "terminology": "openehr"
          }
        ],
        "inContext": true
      },
      {
        "id": "language",
        "name": "Language",
        "rmType": "CODE_PHRASE",
        "min": 1,
        "max": 1,
        "aqlPath": "/language",
        "inContext": true
      },
      {
        "id": "territory",
        "name": "Territory",
        "rmType": "CODE_PHRASE",
        "min": 1,
        "max": 1,
        "aqlPath": "/territory",
        "inContext": true
      },
      {
        "id": "composer",
        "name": "Composer",
        "rmType": "PARTY_PROXY",
        "min": 1,
        "max": 1,
        "aqlPath": "/composer",
        "inputs": [
          {
            "suffix": "id",
            "type": "TEXT"
          },
          {
            "suffix": "id_scheme",
            "type": "TEXT"
          },
          {
            "suffix": "id_namespace",
            "type": "TEXT"
          },
          {
            "suffix": "name",
            "type": "TEXT"
          }
        ],
        "inContext": true
      }
    ]
  }
}
